slocal login
geordi.dosher@gmail.com
testing1234

---

I think what matters is:
- Do I have my own pick
- Do I have the pick / protections
  - Extension
- Swap
  Do I get a good swap or bad swap

- all available picks
  - not traded away
  - include
    - swapped
    - 

Available also relies on pick laws

Hierarchy:
- unprotected pick
- protected pick
- unprotected better swap
- protected better swap
- protected worse swap
- unprotected worse swap
x traded-away protected pick
x traded-away unprotected pick

Available Picks:
- unprotected pick
- protected pick
- 

Available Swaps:
- unprotected better swap
- protected better swaps

We need a better word than available

Owned Picks
- unprotected pick (with and without better swaps)
- protected pick (with and without better swaps)

Tradable picks
- of owned picks, follow stephian rule to get tradable picks


--- Simpler Schema Ideas ---

Use mongo

Each pick is overrideable

{
  round: 1,
  year: 2024,
  from: OKC,
  to: BOS,
  overrides: [
    // This doesn't make sense but for example
    {
      for: OKC,
      isOwn: false,
    }, 
    {
      for: BOS,
      isOwn: true,
    }
  ]
}

---

Schema Examples:

> Own pick
pick {
  originator: ATL,
  toTeam: ATL,
}

> Unprotected pick
pick {
  originator: LAC,
  toTeam: OKC,
}

> Protected pick
pick {
  originator: HOU,
  toTeam: OKC,
  protections: [
    { 1-10, HOU },
    { 11-30, OKC },
  ]
}

> Unprotected Swap
pick {
  id: okc
  originator: OKC,
  swap: okc-lac-swap
}

pick {
  id: lac
  originator: LAC,
  swap: okc-lac-swap
}

swap {
  id: okc-lac-swap
  picks: [
    okc,
    lac,
  ],
  bestTo: OKC
}

> Protected Swap

pick {
  id: okc,
  originator: OKC
  swap: okc-hou-swap
}

pick {
  id: hou,
  originator: HOU
  swap: okc-hou-swap
}

swap {
  id: okc-hou-swap,
  picks: [
    okc,
    hou
  ],
  protections: [
    { HOU: 1-4 }
  ]
  bestTo: OKC,
}

> 3 way swap "OKC or swap for HOU 11-30 or LAC"
pick {
  originator: OKC,
  swap: okc-hou-lac-swap
}

pick {
  originator: HOU,
  swap: okc-hou-lac-swap
}

pick {
  originator: LAC
  swap: okc-hou-lac-swap
}

swap: {
  id: okc-hou-lac-swap,
  picks: [
    okc,
    hou,
    lac,
  ],
  protections: [
    { HOU: 1-10 }
  ]
  bestTo: OKC,
}

> Swap of another swap
BRK / HOU swap in 2025 (in HOU's favor)

(include above)

pick {
  originator: BRK,
}

swap {
  picks: [
    brk
  ],
  swap: [
    hou-swap-result
  ],
  bestTo: BRK
}

swapResult: {
  id: hou-swap-result
  swap: okc-hou-lac-swap,
  pickOf: HOU,
}

> Pick conveys to

pick: {
  id: first-pick
  originator: MIA
  protections: [
    { MIA: 1-10 },
    { OKC: 11-30 },
  ]
  conveysTo: [
    next-pick
  ]
}

pick: {
  id: next-pick
  originator: MIA,
}

> Trading a pick with conditional claims
BRK gets PHI pick if OKC doesn't have claim
// (override idea)
pick {
  originator: PHI,
  year: 2027,
  toTeam: OKC,
  conveysFrom: 2025-okc-phi-pick,
  overrides: [
    {
      for: BRK,
      note: 'if OKC gets pick in 2025',
      protections: {
        PHI: 1-10,
        BRK: 11-30,
      },
      toTeam: BRK,
    },
    {
      for: PHI,
      note: 'if OKC does not get pick in 2025',
      protections: {
        PHI: 1-10,
        BRK: 11-30,
      },
      toTeam: BRK,
    }
  ]
}

> Trade away least good pick from 3 options

picks: {
  org: OKC,
  conditional: id,
}

conditionalTrade: {
  picks: [
    OKC,
    HOU 5-30,
    LAC,
  ],
  worstTo: PHI,
  output: {
    PHI: 1,
    OKC: 2,
  }
}

1-14 POR or swap for MIL; 15-30 to CHI if not already settled; or POR or swap for MIL if POR has conveyed 1st round pick to CHI by 2027

pick {
  originator: POR
  toTeam: CHI
  protection: {
    POR: 1-14
  }
  conveysFrom: previous-year-pick
}

swap {
  picks: [
    POR,
    MIL
  ],
  bestTo: POR
  note: 'If POR has own pick in 2027'
}

BOS / MEM / OKC / ORL

pick {
  org: BOS,
  conditionalTrade: id
}

pick {
  org: MEM,
  to: BOS,
  conditionalTrade: id,
}

conditionalTrade {
  picks: [MEM, BOS],
  bestTo: OKC,
  worstTo: ORL,
  output: {
    OKC: 1,
    ORL: 1,
    BOS: -2,
  }
}

// --- workflow ---

- get picks out of database
- fill in swap/protection data (PickDTO => Pick)
- for each team, find related picks (??) and create DraftAssets based on them.
- for each team, add the conditional trades